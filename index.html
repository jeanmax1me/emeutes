<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Emeutes FrenchRiots">
  <meta name="keywords" content="Emeutes FrenchRiots">
  <meta property="og:title" content="Emeutes FrenchRiots">
  <meta property="og:author" content="jeanmax1me">
  <meta property="og:description" content="Emeutes FrenchRiots">
  <meta property="og:type" content="Compilation Blog">
  <meta property="og:image" content="https://images.lanouvellerepublique.fr/image/upload/t_1020w/f_auto/649fec074e4d0cb47d8b458f.jpg">
  <title id="pageTitle">Dingueries Emeutes FrenchRiots</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap" media="print"
    onload="this.media='all'">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.cdnfonts.com/css/smiling-animal" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"></script>
  <script src="languageSwitch.js" defer></script>
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
 
</head>

<body>

  <header class="header">
    <div class="header__container">
      <a href="#">
        <img src="kek.webp" alt="kek">
      </a>
      <div class="language-switch">
        <button id="frButton">FR</button>
        <button id="enButton">EN</button>
    </div>
      <span class="lolol" id="navTitle">Compil Vidéos Twitter des Émeutes</span>
      <nav aria-labelledby="primary-navigation">
        <ul id="menu-list" class="header__list"> 
            <span class="navmenu">Twitter Search</span>
          <li class="header__item">
            <a href="https://twitter.com/search?q=%23emeutes%20min_faves%3A10&src=typed_query&f=live"
              target="_blank" class="header__link">#emeutes</a>
          </li>
          <li class="header__item">
            <a href="https://twitter.com/search?q=%23ViolencesUrbaines%20min_faves%3A10&src=typed_query&f=live"
              target="_blank" class="header__link">#ViolencesUrbaines</a>
          </li>
          <li class="header__item">
            <a href="https://twitter.com/search?q=%23FrenchRiots%20min_faves%3A10&src=typed_query&f=live"
              target="_blank" class="header__link">#FrenchRiots</a>
          </li>
          <li class="header__item">
            <a href="https://twitter.com/search?q=%23FranceHasFallen%20min_faves%3A10&src=typed_query&f=live"
              target="_blank" class="header__link">#FranceHasFallen</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="main__section">
    <p class="disclaimer" id="disclaimer">Les dernières dingueries du jour dans notre douce France...</p>

    <div class="main-content" id="tweetContainer">
      <!-- Tweet items will be dynamically added here -->
    </div>

    <!-- "Load More" button -->
    <button id="loadMoreButton">Load More</button>
    <button id="exitButton">J'en ai assez vu</button>
  </main>

  <script>
    // Load cleaned tweet links from the JSON file
    fetch('cleaned_links.json')
      .then((response) => response.json())
      .then((links) => {
        const tweetContainer = document.getElementById('tweetContainer');
        const loadMoreButton = document.getElementById('loadMoreButton');
        const maxTweetsPerPage = 10;
        let tweetsDisplayed = 0;

        // Function to create and append tweet elements
        function appendTweetElement(link) {
          const tweetElement = document.createElement('div');
          tweetElement.className = 'content-item';

          const tweetHTML = `
            <blockquote class="twitter-tweet" data-conversation="none">
              <a href="${link}"></a>
            </blockquote>
          `;
          tweetElement.innerHTML = tweetHTML;

          tweetContainer.appendChild(tweetElement);
        }

        // Function to display the next set of tweets
        function displayNextTweets() {
          const endIndex = Math.min(tweetsDisplayed + maxTweetsPerPage, links.length);

          for (let i = tweetsDisplayed; i < endIndex; i++) {
            appendTweetElement(links[i]);
          }

          tweetsDisplayed = endIndex;

          // Hide the "Load More" button if all tweets are displayed
          if (tweetsDisplayed >= links.length) {
            loadMoreButton.style.display = 'none';
          }

          // Refresh the Twitter widget after adding the tweet elements
          if (window.twttr && window.twttr.widgets) {
            window.twttr.widgets.load();
          }
        }

        // Event listener for the "Load More" button
        loadMoreButton.addEventListener('click', displayNextTweets);

        // Initially display the first set of tweets
        displayNextTweets();
      })
      .catch((error) => {
        console.log('Error loading tweet links:', error);
      });
  </script>


</body>
<script>
  const exitButton = document.getElementById('exitButton');

  exitButton.addEventListener('click', () => {
    window.location.href = 'https://www.youtube.com/watch?v=j2vQ1xwxfcQ'; // Replace 'https://example.com' with the desired URL
  });
</script> 
</html>
